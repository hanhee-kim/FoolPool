<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="mapper.notice">
 
	<!-- 게시글 작성  --> 
	<insert id="insertNotice" parameterType="Notice" useGeneratedKeys="true" keyProperty="no">
		<![CDATA[
			insert into notice (title,content) values (#{title}, #{content})
		]]>
	</insert>
 
 
 
 
 	<!-- 공지사항 리스트 조회  -->
 	<select id="selectNoticeList" parameterType="Integer" resultType="Notice">
 	<![CDATA[
 		select * from notice order by no desc
 		limit #{row},10 
 	
 	]]>
 	</select>
 	
 	<!-- 페이징 처리를 위해 전체 데이터 개수를 알아야함 (전체 행의 개수를 알아야 전체 페이지를 얻을 수 있음 )   -->
 	<select id="selectNoticeCount" resultType="Integer">
 	<![CDATA[
 		select count(no) from notice 
 	]]>
 	</select>
 
 	<!-- 게시글 상세  -->
 	<select id="selectNotice" parameterType="Integer" resultType="Notice">
 		<![CDATA[
 			select * from notice where no=#{no}
 		]]>
 	</select>
 	
 	<!-- 게시글 수정  -->
 	<update id="updateNotice" parameterType="Notice" useGeneratedKeys="true" keyProperty="no" >
 		update notice
 		<trim prefix="SET" suffixOverrides=",">
 		<if test="title != null">title=#{title},</if>
 		<if test="content != content">content=#{content},</if>
 		</trim>
 		where no=#{no}
 	</update>
 	
 	
 	<!-- 조회수 업데이트 -->
 	<update id="updateBoardViewCount" parameterType="Integer"  >
 	<![CDATA[
 		update notice set view = view+1 where no=#{no}
 	]]>
 	</update>
 
 
 
 
 
 
 </mapper>